---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import "@/styles/globals.css";
import { ProjectList } from "@/components/project-list";
import Navbar from "@/components/navbar.astro";
import Footer from "@/components/footer.astro";
import MailSmall from "@/components/icons/MailSmall.astro";

const projects = await getCollection("projects");
---

<Layout title="Juan Saugar - Portfolio">
  <Navbar />
  <main
    id="home"
    class="flex flex-col items-center justify-center w-[98vw] mx-auto"
  >
    <div class="w-[50vw] my-40">
      <div class="flex flex-row items-center gap-x-5">
        <img
          src="/resume-img.png"
          alt="Juan Saugar"
          class="rounded-full size-16"
        />
        <h1
          class="py-1 text-5xl text-start my-5 flex font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-emerald-500"
        >
          I'm Juan, and this is my portfolio
        </h1>
      </div>

      <div class="w-[30vw] flex flex-col gap-y-5 items-start">
        <p
          class="[&>strong]:text-violet-300 [&>strong]:font-bold text-lg line-clamp-3"
        >
          +2 years of experience.
          <strong>Spanish IT Engineer living in Poland</strong>. Specialized in
          Web & Unity Development. Feel free to watch my projects!
        </p>
        <a
          href="mailto:juancarlossa.agullo@gmail.com"
          class="text-sm font-bold text-violet-100 hover:text-white transparent border-slate-900 border-2 rounded-full px-5 py-2 hover:bg-slate-900 transition
            duration-300"
        >
          <div class="flex flex-row items-center gap-x-2">
            <MailSmall />
            Contact me
          </div>
        </a>
      </div>
    </div>

    <ProjectList projects={projects.map(({ data }) => data)} client:idle />

    <section></section>
  </main>
  <Footer />

  {
    /*
    <div class="grid gap-5 md:grid-cols-2">
      {
        projects.map((project) => {
          const { slug, data } = project;
          const { title, description, img, url } = data;

          return (
            <article class="flex">
              <a href={`/project/${slug}`}>
                <img
                  src={`https://cdn.royalcanin-weshare-online.io/zlY7qG0BBKJuub5q1Vk6/v1/59-es-l-golden-running-thinking-getting-dog-beneficios?w=1280&fm=jpg&auto=format%2Ccompress`}
                  alt={title}
                  class="mr-5 w-48 rounded"
                />
              </a>
              <div class="flex flex-col justify-center">
                <h2 class="text-2xl font-bold">{title}</h2>
                <p>{description}</p>
              </div>
            </article>
          );
        })
      }
    </div>
  */
  }
</Layout>
